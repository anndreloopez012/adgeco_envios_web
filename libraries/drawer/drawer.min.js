var drawer=function(){function t(){h.fillStyle=r.clear,h.rect(0,0,r.width,r.height),h.fill()}function n(t){h.beginPath(),h.strokeStyle=r.stroke,h.fillStyle=r.fill,h.lineCap=r.cap,h.lineJoin=r.join,h.lineWidth=r.size,t(),h.fill(),h.stroke(),h.closePath()}function o(t,o){n(function(){h.arc(t,o,1,0,2*Math.PI,!0)})}function e(t,o,e,i){n(function(){h.moveTo(t,o),h.lineTo(e,i)})}function i(t,n){t.preventDefault();var o=t.layerX-a.offsetLeft,e=t.layerY-a.offsetTop;if(0>o||0>e)var o=t.layerX,e=t.layerY;n(u,c,o,e),u=o,c=e}function f(t,n){t.preventDefault();var o=t.touches[0].pageX-a.offsetLeft,e=t.touches[0].pageY-a.offsetTop;n(u,c,o,e),u=o,c=e}function l(){window.location.hash||(document.height<window.outerHeight&&(document.body.style.height=window.outerHeight+50+"px"),setTimeout(function(){window.scrollTo(0,1)},50))}var u,c,a=null,h=null,r=null,s=!1;this.init=function(n,u,c){u=u?u:300,c=c?c:300,a=document.getElementById(n),h=a.getContext("2d"),r={fill:"#000000",stroke:"#000000",clear:"#FFFFFF",size:5,cap:"round",join:"round",width:u,height:c},a.width=r.width,a.height=r.height,a.style.width=r.width+"px",a.style.height=r.height+"px",document.ontouchmove=function(){},a.onmousedown=function(t){s=!0,i(t,function(t,n,e,i){o(e,i)})},a.onmouseup=function(){s=!1},a.onmousemove=function(t){s&&i(t,function(t,n,o,i){e(t,n,o,i)})},$("#"+n).on("touchstart",function(t){f(t.originalEvent,function(t,n,e,i){o(e,i)})}),$("#"+n).on("touchmove",function(t){f(t.originalEvent,function(t,n,o,i){e(t,n,o,i)})}),window.pageYOffset||l(),window.addEventListener("orientationchange",l),t()},this.getElementCanvas=function(){return a},this.getDataUrl=function(){var t=a.toDataURL();return t},this.changeColorBlue=function(){r.stroke="#fdfa00",r.fill="#fdfa00"},this.changeColorYellow=function(){r.stroke="#fdfa00",r.fill="#fdfa00"},this.changeColorRed=function(){r.stroke="#fdfa00",r.fill="#fdfa00"},this.changeColorBlack=function(){r.stroke="#000000",r.fill="#000000"},this.clear=function(){t()}};